webpackJsonp([27],{Fv2s:function(s,e){},oyCj:function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={data:function(){return{desc:"",warmT:!1,isMsg:!1,isMor:!1,isEmail:!1,isadd:!1,isOne:!0}},methods:{warmX:function(){this.desc&&(this.desc.length>this.params.length?this.warmT=!0:this.warmT=!1)},push:function(){var s=this;if(this.isOne)if(this.isOne=!1,this.warmT)this.isMor=!0,setTimeout(function(){s.isMor=!1,s.isOne=!0},2e3);else if("myEmail"===this.$route.params.id){if(/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9-]+)*\.[a-zA-Z0-9]{2,6}$/.test(this.desc)){console.log(this.desc);var e={email:this.desc},t=localStorage.getItem("id");this.$http(this.path.myEmail(t,e)).then(function(e){console.log(e),0===e.data.code&&(s.isMsg=!0,setTimeout(function(){s.isMsg=!1,s.$router.push({name:"myUse"})},2e3))})}else this.isEmail=!0,setTimeout(function(){s.isEmail=!1,s.isOne=!0},2e3)}else if(this.warmT)this.isMor=!0,setTimeout(function(){s.isMor=!1,s.isOne=!0},2e3);else if(console.log(this.desc),this.desc){var i=localStorage.getItem("id"),a={address:this.desc};this.$http(this.path.myAddres(i,a)).then(function(e){console.log(e),0===e.data.code&&(s.isMsg=!0,setTimeout(function(){s.isMsg=!1,s.$router.push({name:"myUse"})},2e3))})}else this.isadd=!0,setTimeout(function(){s.isadd=!1,s.isOne=!0},2e3)},isOn:function(){var s=this;this.isMsg=!0,setTimeout(function(){s.isMsg=!1},2e3)}},beforeCreate:function(){"myEmail"===this.$route.params.id?(this.params={message:"请输入电子邮箱",length:30},this.$parent.head.title="修改邮箱"):(this.params={message:"输入详细地址",length:50},this.$parent.head.title="修改地址")},created:function(){var s=this;this.$parent.head.back=function(){s.$router.back(-1)}}},a={render:function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"body"},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:s.desc,expression:"desc"}],attrs:{name:"ccc",id:"text",placeholder:s.params.message},domProps:{value:s.desc},on:{input:[function(e){e.target.composing||(s.desc=e.target.value)},s.warmX]}}),s._v(" "),t("div",{staticClass:"message"},[t("span",{class:{red:s.warmT}},[s._v(s._s(s.desc.length))]),s._v(" "),t("span",[s._v("/"+s._s(s.params.length))])]),s._v(" "),t("transition",{attrs:{name:"fade"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:s.isMsg,expression:"isMsg"}],staticClass:"msg msg-x"},[s._v("提交成功")])]),s._v(" "),t("transition",{attrs:{name:"fade"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:s.isMor,expression:"isMor"}],staticClass:"msg msg-x"},[s._v("字数过多")])]),s._v(" "),t("transition",{attrs:{name:"fade"}},[t("p",{directives:[{name:"show",rawName:"v-show",value:s.isEmail,expression:"isEmail"}],staticClass:"msg msg-x"},[s._v("邮箱格式错误")])]),s._v(" "),t("transition",[t("p",{directives:[{name:"show",rawName:"v-show",value:s.isadd,expression:"isadd"}],staticClass:"msg msg-x"},[s._v("请填写地址")])]),s._v(" "),t("button",{staticClass:"btn",on:{click:function(e){s.push()}}},[s._v("提交")])],1)},staticRenderFns:[]};var n=t("VU/8")(i,a,!1,function(s){t("Fv2s")},"data-v-58c58930",null);e.default=n.exports}});